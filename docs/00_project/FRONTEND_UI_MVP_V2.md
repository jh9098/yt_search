# 유튜브 소재 채굴기 v2.0 프론트엔드 UI/기능 기획서 (MVP 우선순위 반영)

## 0. 문서 목적
이 문서는 현재 구현된 **분석 모달 중심 프론트**를, 첨부 화면처럼 **실전 탐색형 대시보드 UI**로 확장하기 위한 프론트엔드 개발 기준 문서다.

핵심 목표는 다음 순서로 둔다.

1. **대박 영상/유망 소재를 한눈에 보여주는 탐색 화면 완성** (최우선)
2. 검색/필터/정렬/보기 전환 등 **발굴 기능 구현**
3. 기존 **AI 소재 분석 모달 연결 및 안정화**

> 배경: 현재 MVP가 AI 분석에 무게가 실려 있지만, 실제 사용자 가치 측면에서 먼저 체감되는 것은 "어떤 영상이 잘 되는지 빠르게 발견하는 화면"이다. 따라서 프론트 MVP 우선순위를 탐색 화면 중심으로 재정렬한다.

---

## 1. 현재 상태 요약 (확인된 사실)

### 1.1 현재 코드 상태 (확인됨)
- Frontend: `React + Vite + TypeScript`
- 현재 메인 화면은 간단한 카드 목록 + `AI 소재 분석` 버튼 중심
- 분석 모달(`loading/success/error`) 및 폴링 로직은 이미 존재
- 스타일은 현재 `src/styles.css` 기반이며, 일부 컴포넌트에 Tailwind 클래스가 섞여 있음

### 1.2 현재 프론트의 강점 (확인됨)
- 분석 모달 상태 전환 구조가 이미 잘 분리됨
- 에러 맵핑/폴링/중복 클릭 방지 같은 핵심 UX 안정장치가 있음

### 1.3 현재 프론트의 부족한 점 (확인됨)
- 실제 탐색형 UI(검색바/복수 필터/썸네일 중심 카드/보기 전환)가 없음
- “왜 이 영상이 좋은 소재인지”를 빠르게 판단할 메타 정보 노출이 부족함
- 사용자 흐름이 **검색 → 발굴 → 비교 → 분석**이 아니라 **분석 버튼 중심**으로 시작됨

---

## 2. 프론트엔드 MVP 재정의 (중요)

## 2.1 프론트 MVP-A (최우선: 탐색 화면)
사용자가 대박/유망 영상을 빠르게 찾을 수 있어야 한다.

### 포함 기능
- 키워드 검색 (메인 검색창)
- 채널명 검색 (보조 검색창)
- 필터 바(기간/정렬/최소 조회수/길이/구독자 범위 등)
- 영상 카드 그리드/리스트 보기 전환
- 카드 내 핵심 지표 표시 (조회수, 구독자, VPH, 업로드일, 길이)
- "대박 영상" 배지/랭킹 시각화
- 빈 결과/로딩/오류 상태 UI

## 2.2 프론트 MVP-B (기존 분석 기능 연결 강화)
탐색 화면에서 선택한 카드에 대해 분석을 실행할 수 있어야 한다.

### 포함 기능
- 카드의 `AI 소재 분석` 버튼 → 기존 분석 모달 연결
- 로딩 중 중복 요청 방지 (이미 구현된 정책 유지)
- 결과 내 추천 키워드 클릭 → 검색어 반영 (기존 흐름 유지/확장)

## 2.3 프론트 MVP-C (후속)
- 카드 정렬 고도화 (성과도/기회점수/조회속도 등)
- 비교 선택(체크박스) 기능
- 즐겨찾기/백로그 저장
- 컬럼 개인화
- 가상 스크롤/무한 스크롤 고도화

---

## 3. 화면 구조 기획 (첨부 UI 기준)

## 3.1 페이지 구성 개요
단일 페이지 대시보드 구조로 시작한다.

1. **상단 헤더**
   - 서비스 로고/타이틀: `유튜브 소재 채굴기 v2.0`
   - 우측 상태 영역: 현재 시간 / 상태 메시지 / 동기화 상태

2. **상단 검색 영역 (2열)**
   - 좌측: 키워드 검색 입력 + 검색 버튼
   - 우측: 채널명 검색 입력 + 검색 버튼

3. **필터 툴바 (2줄 가능)**
   - 정렬, 국가, 기간, 최대 구독자, 채널 공개 여부
   - 최소 조회수, 최소 성과도(또는 점수), 길이, 숏폼 분류, 스크립트 유무
   - 마우스오버 옵션, 기능 필터, 보기 모드(그리드/리스트)

4. **결과 영역**
   - 결과 요약 바 (총 개수, 필터 적용 수, 정렬 기준)
   - 영상 카드 그리드/리스트
   - 페이징 or 더보기 버튼

5. **분석 모달 (기존)**
   - loading / success / error 상태 유지

---

## 3.2 카드 UI 필수 구성 요소 (탐색 중심)
각 카드에서 사용자가 2~3초 내 판단 가능해야 한다.

### 카드 헤더/썸네일 영역
- 썸네일 이미지
- 상태 배지 (예: `대박 영상`, `급상승`, `신규`, `주의`)
- VPH 배지 (예: `1034.7 VPH`)
- 영상 길이 + 업로드일 표시 (썸네일 우측 하단 오버레이)

### 카드 본문 영역
- 제목 (2줄 clamp)
- 채널명
- 카테고리/태그(선택)

### 카드 지표 영역 (최소 2~4개)
- 조회수
- 구독자 수
- 업로드 경과시간 (또는 날짜)
- 성과도/기회점수 (있으면)

### 카드 액션 영역
- `AI 소재 분석` 버튼 (기존 분석 모달 연결)
- (후속) `비교 담기`, `백로그 저장`

---

## 4. 프론트 상태 모델 (핵심)

## 4.1 페이지 상태 분리
프론트 상태는 최소 아래 4개 축으로 분리한다.

1. **검색 조건 상태 (`queryState`)**
   - 키워드, 채널명, 필터값, 보기모드
2. **결과 상태 (`resultsState`)**
   - idle / loading / success / empty / error
3. **선택 상태 (`selectionState`)**
   - 현재 선택 카드, 비교 선택 목록(후속)
4. **분석 상태 (`analysisState`)**
   - 기존 모달 상태 (`loading/success/error`) + result/error/loadingState

> 중요: 탐색 화면 로딩과 분석 모달 로딩은 서로 다른 상태로 유지해야 함 (동시 작업 가능성 때문)

---

## 4.2 URL 쿼리 동기화 (프론트 UX 핵심)
탐색형 서비스는 URL 공유/복구가 중요하므로 일부 필터는 URL querystring에 저장한다.

### URL 동기화 대상 (MVP)
- `q` (키워드)
- `channel`
- `sort`
- `period`
- `country`
- `minViews`
- `maxSubs`
- `view` (`grid` / `list`)
- `page`

### URL 동기화 제외 (초기)
- 모달 열림 여부
- 분석 결과 데이터 전체
- 임시 hover 설정

---

## 5. 프론트 컴포넌트 설계 (DDD + UI 분리)

## 5.1 권장 폴더 구조 (프론트)
```text
frontend/src/
  app/
    AppShell.tsx
    routes.tsx (선택)
  shared/
    components/
      Button/
      Select/
      Input/
      Badge/
      Card/
      EmptyState/
      ErrorState/
      LoadingSkeleton/
    utils/
    styles/
      tokens.css
  domains/
    search/
      api/
        client.ts
      components/
        SearchHeader.tsx
        KeywordSearchBar.tsx
        ChannelSearchBar.tsx
        FilterToolbar.tsx
        ResultSummaryBar.tsx
        VideoGrid.tsx
        VideoList.tsx
        VideoCard.tsx
        VideoCardMetrics.tsx
        VideoCardBadgeRow.tsx
      hooks/
        useSearchQueryState.ts
        useVideoSearch.ts
      types.ts
      mappers.ts
      constants.ts
    analysis/
      (기존 구조 유지 + 카드 액션 연동만 보강)
```

## 5.2 컴포넌트 책임 분리 규칙
- `FilterToolbar`: UI 렌더링 + 변경 이벤트 emit만 담당
- `useSearchQueryState`: 필터 상태/URL 동기화 담당
- `useVideoSearch`: API 호출/로딩/오류/결과 상태 담당
- `VideoCard`: 표시와 액션 버튼만 담당 (API 호출 직접 금지)
- `analysis` 도메인: 기존 분석 플로우 전담 유지

---

## 6. 화면별 상세 명세

## 6.1 상단 헤더
### 목적
브랜드 인지 + 서비스 신뢰도 + 상태 인지

### 필수 요소
- 로고/아이콘 (YouTube 느낌 아이콘 가능)
- 제목: `유튜브 소재 채굴기 v2.0`
- 우측 텍스트: 현재 시각 (프론트 표시)
- 상태 메시지: `최신 안정 버전 백업 완료` 같은 운영 텍스트 (정적/더미 가능)

### 구현 메모
- 시계는 초 단위까지 필요 없으면 1분 단위 갱신
- 상태 메시지는 API 연동 전 하드코딩 가능

---

## 6.2 검색바 영역 (좌: 키워드 / 우: 채널)
### 공통 UX 규칙
- Enter 입력 시 검색 실행
- 검색 버튼 클릭 가능
- 로딩 중 버튼 disabled
- 이전 검색 조건 유지

### 키워드 검색바
- placeholder 예: `키워드 입력 (예: 뇌과학, 건강, 자기계발)`
- 우선순위 높음

### 채널 검색바
- placeholder 예: `채널명 검색 (선택)`
- 키워드와 독립 조건으로 동작

### 디바운스 정책 (ChatGPT의 의견)
- 입력 즉시 자동검색보다 **명시적 검색 버튼**이 초기 비용/예측 가능성 측면에서 유리함
- 후속으로 300~500ms 디바운스 자동검색 추가 가능

---

## 6.3 필터 툴바 (스크린샷 대응)
초기에는 스크린샷 UI를 1:1로 복제하기보다, 기능적 우선순위 순으로 구현한다.

### 1차 필수 필터 (MVP-A)
1. 정렬 (`sort`)
   - 조회수순
   - 최신순
   - 조회속도순(VPH)
   - 성과도순(추정치)
2. 국가 (`country`)
   - 대한민국(KR)
   - 전체
3. 기간 (`period`)
   - 최근 7일 / 30일 / 90일
4. 최대 구독자 (`maxSubs`)
   - 1만 미만 / 10만 미만 / 100만 미만 / 제한 없음
5. 최소 조회수 (`minViews`)
   - 1만+ / 5만+ / 10만+ / 제한 없음
6. 길이 (`lengthType`)
   - 숏폼 / 롱폼 / 전체
7. 보기 모드 (`viewMode`)
   - 그리드 / 리스트

### 2차 필터 (MVP-B 이후)
- 구독자 공개 여부
- 최소 성과도
- 숏폼 분류 세부값
- 스크립트 유무
- 마우스오버 동작 옵션
- 기능 토글(예상 수익 확인 등)

### UI 규칙
- 데스크톱: 한 줄 또는 두 줄 랩(wrap) 허용
- 모바일/좁은 폭: 접기형 `상세 필터` 패널로 이동
- 필터 변경 시 `결과 재조회` 정책은 아래 중 택1
  - A안: 즉시 재조회 (빠른 UX)
  - B안: `적용` 버튼 클릭 후 재조회 (API 비용 절감)

> 추천: **MVP-A는 B안(적용 버튼)** 으로 시작. 필터가 많아질수록 불필요 호출 감소 효과 큼.

---

## 6.4 결과 요약 바 (추가 권장)
스크린샷에는 강하게 드러나지 않지만 실무적으로 매우 유용함.

### 필수 정보
- 총 결과 수 / 현재 페이지 수
- 적용 중 필터 수
- 정렬 기준
- 마지막 조회 시각

### 액션
- 필터 초기화
- 현재 조건 공유(URL 복사)

---

## 6.5 영상 카드 목록

### 그리드 뷰 (기본)
- 4열(대형 화면) / 3열 / 2열 / 1열 반응형
- 썸네일 중심 시각 탐색에 유리

### 리스트 뷰 (보조)
- 비교/정렬 확인에 유리
- 더 많은 텍스트/지표 표시 가능

### 카드별 성과/지표 표시 규칙
- `VPH`, `예상 수익`, `성과도`, `기회점수`는 **추정값일 수 있음**
- 사용자에게 다음 라벨을 붙임:
  - `추정치`
  - `AI 제안`
  - `내부 계산 지표`

> 이는 기존 PLAN 문서의 “추정치/불확실성 표시 정책”과 일치해야 한다.

---

## 6.6 분석 모달 (기존 기능 유지 + 연결 포인트 명확화)

### 유지할 기존 정책 (확인됨)
- `loading / success / error` 상태 분리
- 로딩 중 중복 클릭 방지
- 재시도 버튼 제공
- 추천 키워드 클릭 시 검색어 반영

### 추가 연결 포인트
- 모달 헤더에 **선택 영상 요약 정보** 표시 (썸네일/제목/채널)
- 모달 닫아도 결과 목록 상태 유지 (필수)
- 분석 완료 시 카드에 `분석 완료` 배지 표시 (선택)

---

## 7. API 연동 관점 프론트 요구사항 (프론트 계약)

## 7.1 검색 API (신규/가정)
> **확실하지 않은 사실**: 현재 첨부 코드에는 탐색용 검색 API 구현이 확인되지 않았으므로 아래는 프론트 기준 계약 제안이다.

### 요청 파라미터 (예시)
- `q: string`
- `channel?: string`
- `sort?: string`
- `country?: string`
- `period?: string`
- `maxSubs?: string`
- `minViews?: string`
- `lengthType?: string`
- `page?: number`
- `pageSize?: number`

### 프론트가 필요한 응답 필드 (최소)
- `items[]`
  - `videoId`
  - `title`
  - `channelName`
  - `thumbnailUrl`
  - `durationSec` 또는 `durationText`
  - `publishedAt`
  - `viewCount`
  - `subscriberCount` (없으면 null 허용)
  - `vph` (없으면 null 허용)
  - `badges[]` (예: `대박 영상`)
- `page`
- `pageSize`
- `total`
- `meta`
  - `sort`
  - `queryTimeMs`
  - `estimatedFields` (추정치 필드 목록)

### 프론트 fallback 규칙
- `subscriberCount = null` → `구독자 비공개` 표기
- `vph = null` → 배지 숨김
- `thumbnailUrl` 실패 → 기본 썸네일 placeholder

---

## 7.2 분석 API (기존)
현재 존재하는 분석 API 계약과 모달 상태 매핑을 유지한다.

### 프론트 보장사항
- 분석 API 실패가 전체 목록 화면을 깨뜨리면 안 됨
- 특정 카드 분석 실패 시 그 카드/모달 범위에서만 오류 처리
- 폴링 중 모달 닫기 시 타이머 정리 필수 (이미 구현된 패턴 유지)

---

## 8. 디자인 시스템/스타일 전략 (현실적인 선택)

## 8.1 스타일 전략 제안
### 권장안 (MVP 속도 우선)
- **기존 CSS 유지 + CSS 변수 토큰 추가**
- 공통 UI 컴포넌트(Button/Select/Input/Badge/Card)부터 스타일 표준화
- Tailwind는 추후 도입 여부 결정

### 이유 (확인된 사실 + 의견)
- 현재 `package.json`에 Tailwind 의존성이 없음 (확인됨)
- 일부 컴포넌트에 Tailwind 클래스가 섞여 있어 스타일 기준이 혼재됨 (확인됨)
- **ChatGPT의 의견**: 지금 단계에서 Tailwind 도입까지 같이 하면 UI 개발 속도보다 세팅/정리 비용이 먼저 커질 가능성이 높다.

---

## 8.2 디자인 토큰 (초안)
```css
:root {
  --bg: #0f172a;
  --surface: #111827;
  --surface-2: #1f2937;
  --card: #1b2433;
  --line: #334155;
  --text: #e5e7eb;
  --text-muted: #94a3b8;
  --primary: #2563eb;
  --primary-2: #3b82f6;
  --danger: #ef4444;
  --success: #22c55e;
  --warning: #f59e0b;
}
```

> 스크린샷처럼 다크 테마를 기본으로 두고, 밝은/강조색 버튼으로 액션을 부각한다.

---

## 9. 반응형/접근성 기준 (MVP 필수)

## 9.1 반응형 기준
- `>= 1440px`: 카드 4열
- `>= 1200px`: 카드 3열
- `>= 768px`: 카드 2열
- `< 768px`: 카드 1열 + 필터 접기

## 9.2 접근성 기준
- 검색/필터 입력 요소에 `label` 또는 `aria-label`
- 모달 열림 시 포커스 트랩(후속 가능, 초기 최소 처리라도 필요)
- 버튼 disabled 상태 시 시각적/속성 둘 다 적용
- 텍스트 대비 확보 (다크 테마 주의)

---

## 10. 구현 우선순위 (프론트 작업 순서)

## 10.1 Phase FE-1: 탐색 화면 뼈대 (가짜 데이터 가능)
- [x] AppShell + Header + Search 영역 레이아웃
- [x] FilterToolbar UI (값 변경만)
- [ ] VideoCard UI (썸네일/배지/지표/버튼)
- [x] Grid/List 토글 UI
- [x] 로딩/빈결과/오류 상태 컴포넌트

### 완료 기준
- 스크린샷과 유사한 정보 밀도의 화면이 더미 데이터로 표시됨
- 카드에서 `AI 소재 분석` 버튼 클릭 가능

---

## 10.2 Phase FE-2: 상태관리/URL 동기화
- [ ] `useSearchQueryState` 구현
- [ ] URL query ↔ UI 상태 동기화
- [ ] 필터 초기화/공유 URL 복사

### 완료 기준
- 새로고침 후 검색 조건 복구됨
- URL 공유 시 같은 화면 재현 가능

---

## 10.3 Phase FE-3: 검색 API 연결
- [ ] 검색 API 클라이언트 추가 (`domains/search/api/client.ts`)
- [ ] `useVideoSearch` 구현
- [ ] 결과 상태 연결 (loading/empty/error/success)
- [ ] 페이지네이션/더보기

### 완료 기준
- 실제 검색 결과가 카드로 렌더링됨
- 필터 조건 변경 반영됨

---

## 10.4 Phase FE-4: 분석 모달 결합 안정화
- [ ] 카드 선택 정보 모달 헤더에 표시
- [ ] 분석 완료 배지(선택)
- [ ] 재검색/추천키워드 클릭 흐름 검증

### 완료 기준
- 탐색 화면 + 분석 모달 전체 흐름이 자연스럽게 연결됨

---

## 11. QA 체크리스트 (프론트 전용)

## 11.1 기능
- [ ] 키워드 검색 Enter 동작
- [ ] 채널 검색 Enter 동작
- [ ] 필터 적용/초기화 동작
- [ ] 그리드/리스트 전환 동작
- [ ] 카드 `AI 소재 분석` 버튼 동작
- [ ] 모달 닫기/재시도 동작
- [ ] 추천 키워드 클릭 → 검색어 반영

## 11.2 상태 처리
- [ ] 결과 목록 로딩 중 스켈레톤 노출
- [ ] 결과 없음(empty) 메시지 노출
- [ ] 검색 API 실패 시 인라인 오류 + 재시도 버튼
- [ ] 분석 실패가 목록 화면에 영향 없음
- [ ] 모달 닫을 때 폴링/타이머 정리

## 11.3 데이터 예외
- [ ] 썸네일 없음
- [ ] 구독자 비공개(null)
- [ ] VPH 없음
- [ ] 긴 제목(2줄 clamp)
- [ ] 매우 큰 숫자 포맷 (만/천 단위)

## 11.4 UX
- [ ] 필터가 많아도 레이아웃 깨짐 없음
- [ ] 버튼/배지 색 대비 충분
- [ ] 모바일에서 필터 사용 가능

---

## 12. 문서 운영 규칙 (AI 길들이기 시스템 반영)
이 프로젝트의 프론트 작업은 아래 3문서와 함께 진행한다.

### 필수 연동 문서
- `docs/00_project/PLAN.md`
- `docs/00_project/CONTEXT_NOTE.md`
- `docs/00_project/CHECKLIST.md`

### 프론트 작업 시작 전 체크
1. 이번 세션 목표를 1~2시간 단위로 고른다.
2. 영향을 받는 파일 목록을 먼저 적는다.
3. 구현 후 체크리스트/변경로그를 바로 갱신한다.

### 프론트 작업 종료 후 셀프 점검 질문
- 오류/빈값/로딩 처리를 추가했는가?
- 모바일/좁은 폭에서 깨지지 않는가?
- 분석 모달 기존 동작을 깨지 않았는가?
- 추정치 라벨 표기를 누락하지 않았는가?

---

## 13. 다음 세션에 바로 쓸 작업지시 예시 (복붙용)
```md
[프론트 작업 목표]
유튜브 소재 채굴기 v2.0 탐색 화면 MVP-A 1차 UI 구현

[범위]
- Header + 2개 검색바 + FilterToolbar + VideoCard Grid(더미 데이터)
- 기존 analysis 도메인 모달 트리거 연결 유지
- styles.css 기반으로 다크 테마 UI 적용 (Tailwind 신규 도입 금지)

[주의]
- 기존 분석 모달 로직/폴링/에러 처리 깨지지 않게 유지
- 컴포넌트 분리: FilterToolbar, VideoCard, VideoGrid
- 로딩/빈결과/오류 상태 컴포넌트도 최소 UI 포함

[작업 후 보고서 필수]
- 수정 파일 목록
- 구현한 기능
- 미구현/남은 이슈
- 테스트한 케이스
```

---

## 14. 확실하지 않은 사실 / ChatGPT의 의견 구분

### 확실하지 않은 사실
- 탐색용 검색 API의 실제 엔드포인트/응답 구조는 첨부 코드에서 확인되지 않았음
- 스크린샷의 일부 필터(예: 최소 성과도, 마우스오버, 기능)의 실제 서버 필터 지원 여부는 미확인

### ChatGPT의 의견
- 현재 단계에서는 Tailwind 신규 도입보다 기존 CSS 정리 + 공통 컴포넌트화가 개발 속도에 유리함
- MVP 우선순위는 AI 분석보다 “대박영상 발굴 화면”을 먼저 완성하는 것이 사용자 체감가치가 큼
- 필터가 많은 구조에서는 초기엔 `적용` 버튼 방식이 API 비용/디버깅 측면에서 유리함

